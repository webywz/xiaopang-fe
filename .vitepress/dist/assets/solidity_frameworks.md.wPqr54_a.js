import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.DPDPlp3K.js";const c=JSON.parse('{"title":"主流开发框架","description":"","frontmatter":{"title":"主流开发框架"},"headers":[],"relativePath":"solidity/frameworks.md","filePath":"solidity/frameworks.md","lastUpdated":1747119657000}'),e={name:"solidity/frameworks.md"};function t(h,s,p,r,k,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="主流开发框架" tabindex="-1">主流开发框架 <a class="header-anchor" href="#主流开发框架" aria-label="Permalink to &quot;主流开发框架&quot;">​</a></h1><p>Solidity 生态中有多种主流开发框架，合理选择和使用框架能大幅提升开发效率和项目质量。</p><h2 id="_1-truffle-框架" tabindex="-1">1. Truffle 框架 <a class="header-anchor" href="#_1-truffle-框架" aria-label="Permalink to &quot;1. Truffle 框架&quot;">​</a></h2><h3 id="_1-1-框架简介" tabindex="-1">1.1 框架简介 <a class="header-anchor" href="#_1-1-框架简介" aria-label="Permalink to &quot;1.1 框架简介&quot;">​</a></h3><ul><li>经典的Solidity开发框架，历史悠久，社区活跃。</li><li>集成合约编译、部署、测试、脚本、网络管理等功能。</li></ul><h3 id="_1-2-主要特性" tabindex="-1">1.2 主要特性 <a class="header-anchor" href="#_1-2-主要特性" aria-label="Permalink to &quot;1.2 主要特性&quot;">​</a></h3><ul><li>支持Migrations（迁移脚本）、多网络配置、合约交互。</li><li>内置测试框架（Mocha/Chai）。</li><li>丰富的插件和社区资源。</li></ul><h3 id="_1-3-典型用法" tabindex="-1">1.3 典型用法 <a class="header-anchor" href="#_1-3-典型用法" aria-label="Permalink to &quot;1.3 典型用法&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> goerli</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_2-hardhat-框架" tabindex="-1">2. Hardhat 框架 <a class="header-anchor" href="#_2-hardhat-框架" aria-label="Permalink to &quot;2. Hardhat 框架&quot;">​</a></h2><h3 id="_2-1-框架简介" tabindex="-1">2.1 框架简介 <a class="header-anchor" href="#_2-1-框架简介" aria-label="Permalink to &quot;2.1 框架简介&quot;">​</a></h3><ul><li>现代化Solidity开发框架，插件生态丰富，调试能力强。</li><li>支持本地链（Hardhat Network）、自动化测试、脚本、合约升级。</li></ul><h3 id="_2-2-主要特性" tabindex="-1">2.2 主要特性 <a class="header-anchor" href="#_2-2-主要特性" aria-label="Permalink to &quot;2.2 主要特性&quot;">​</a></h3><ul><li>灵活的任务和插件系统。</li><li>强大的调试工具（console.log、堆栈追踪）。</li><li>与Ethers.js深度集成。</li><li>支持TypeScript。</li></ul><h3 id="_2-3-典型用法" tabindex="-1">2.3 典型用法 <a class="header-anchor" href="#_2-3-典型用法" aria-label="Permalink to &quot;2.3 典型用法&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardhat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardhat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardhat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hardhat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scripts/deploy.js</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> goerli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_3-foundry-框架" tabindex="-1">3. Foundry 框架 <a class="header-anchor" href="#_3-foundry-框架" aria-label="Permalink to &quot;3. Foundry 框架&quot;">​</a></h2><h3 id="_3-1-框架简介" tabindex="-1">3.1 框架简介 <a class="header-anchor" href="#_3-1-框架简介" aria-label="Permalink to &quot;3.1 框架简介&quot;">​</a></h3><ul><li>新一代高性能Solidity开发工具，命令行体验极佳。</li><li>支持快速编译、测试、Fuzzing、脚本、主流EVM链。</li></ul><h3 id="_3-2-主要特性" tabindex="-1">3.2 主要特性 <a class="header-anchor" href="#_3-2-主要特性" aria-label="Permalink to &quot;3.2 主要特性&quot;">​</a></h3><ul><li>极快的编译和测试速度。</li><li>内置Fuzzing和属性测试。</li><li>脚本和部署体验优秀。</li><li>与硬件钱包、主流链兼容性好。</li></ul><h3 id="_3-3-典型用法" tabindex="-1">3.3 典型用法 <a class="header-anchor" href="#_3-3-典型用法" aria-label="Permalink to &quot;3.3 典型用法&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> script</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> script/Deploy.s.sol</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rpc-url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $RPC_URL </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--private-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PK </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--broadcast</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_4-其他开发框架" tabindex="-1">4. 其他开发框架 <a class="header-anchor" href="#_4-其他开发框架" aria-label="Permalink to &quot;4. 其他开发框架&quot;">​</a></h2><ul><li>Brownie（Python生态）、Embark、DappTools等，适合特定需求或语言偏好。</li></ul><h2 id="_5-框架对比与选择建议" tabindex="-1">5. 框架对比与选择建议 <a class="header-anchor" href="#_5-框架对比与选择建议" aria-label="Permalink to &quot;5. 框架对比与选择建议&quot;">​</a></h2><ul><li><strong>Truffle</strong>：适合传统项目、团队协作、对JS生态有依赖的团队。</li><li><strong>Hardhat</strong>：推荐新项目，调试能力强，插件丰富，社区活跃。</li><li><strong>Foundry</strong>：追求极致效率、自动化和高性能的团队首选。</li><li>建议根据团队技术栈、项目规模和社区活跃度选择。</li></ul><h2 id="_6-示例代码" tabindex="-1">6. 示例代码 <a class="header-anchor" href="#_6-示例代码" aria-label="Permalink to &quot;6. 示例代码&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Hardhat部署脚本示例 scripts/deploy.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ethers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hardhat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContractFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Demo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Demo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> demo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deployed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Demo合约地址:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, demo.address);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-solidity vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SPDX-License-Identifier: MIT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pragma</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> solidity</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ^0.8.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Demo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  uint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _v; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_7-常见问题与注意事项" tabindex="-1">7. 常见问题与注意事项 <a class="header-anchor" href="#_7-常见问题与注意事项" aria-label="Permalink to &quot;7. 常见问题与注意事项&quot;">​</a></h2><ul><li><strong>Truffle与Hardhat项目结构不同</strong>，迁移时需注意目录和配置。</li><li><strong>Foundry默认使用Forge测试框架</strong>，与JS测试风格不同。</li><li><strong>所有框架都应配合自动化测试和静态分析</strong>，提升安全性。</li><li><strong>框架配置应有详细注释和文档</strong>，便于团队协作和维护。</li><li><strong>主网部署前务必多轮测试和审计</strong>。</li></ul><hr><p>如需深入了解各类开发框架和自动化实践，可参考官方文档或本教程后续章节。</p>`,34)]))}const g=i(e,[["render",t]]);export{c as __pageData,g as default};
