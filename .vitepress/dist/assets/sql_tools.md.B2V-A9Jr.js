import{_ as a,c as i,o as n,ag as l}from"./chunks/framework.DPDPlp3K.js";const g=JSON.parse('{"title":"SQL 工具大全","description":"","frontmatter":{},"headers":[],"relativePath":"sql/tools.md","filePath":"sql/tools.md","lastUpdated":1747206212000}'),t={name:"sql/tools.md"};function e(r,s,h,p,d,k){return n(),i("div",null,s[0]||(s[0]=[l(`<h1 id="sql-工具大全" tabindex="-1">SQL 工具大全 <a class="header-anchor" href="#sql-工具大全" aria-label="Permalink to &quot;SQL 工具大全&quot;">​</a></h1><h2 id="_1-图形化客户端工具" tabindex="-1">1. 图形化客户端工具 <a class="header-anchor" href="#_1-图形化客户端工具" aria-label="Permalink to &quot;1. 图形化客户端工具&quot;">​</a></h2><ul><li><strong>DBeaver</strong>：跨平台，支持多种数据库，开源，插件丰富。</li><li><strong>Navicat</strong>：商业软件，界面友好，支持 MySQL、PostgreSQL、Oracle、SQL Server 等。</li><li><strong>DataGrip</strong>：JetBrains 出品，智能补全，支持多种数据库。</li><li><strong>HeidiSQL</strong>：轻量级，适合 MySQL、MariaDB、SQL Server。</li><li><strong>SQLyog</strong>：MySQL 专用，界面简洁，功能全面。</li></ul><h2 id="_2-命令行工具" tabindex="-1">2. 命令行工具 <a class="header-anchor" href="#_2-命令行工具" aria-label="Permalink to &quot;2. 命令行工具&quot;">​</a></h2><ul><li><strong>mysql / mysqlsh</strong>：MySQL 官方命令行工具，支持脚本、批量操作。</li><li><strong>psql</strong>：PostgreSQL 官方命令行，支持历史、补全、脚本。</li><li><strong>sqlcmd</strong>：SQL Server 命令行，适合自动化和批处理。</li><li><strong>sqlite3</strong>：SQLite 官方命令行，轻量易用。</li><li><strong>sqlplus</strong>：Oracle 官方命令行，支持脚本和批量。</li></ul><h2 id="_3-sql-代码生成与格式化工具" tabindex="-1">3. SQL 代码生成与格式化工具 <a class="header-anchor" href="#_3-sql-代码生成与格式化工具" aria-label="Permalink to &quot;3. SQL 代码生成与格式化工具&quot;">​</a></h2><ul><li><strong>SQL Formatter</strong>：如 <a href="https://sqlformat.org/" target="_blank" rel="noreferrer">sqlformat.org</a>、DBeaver 内置格式化。</li><li><strong>Prettier SQL 插件</strong>：前端项目常用，自动格式化 SQL 片段。</li><li><strong>SQLFluff</strong>：支持 lint、格式化、风格检查，适合团队协作。</li></ul><h2 id="_4-静态分析与安全工具" tabindex="-1">4. 静态分析与安全工具 <a class="header-anchor" href="#_4-静态分析与安全工具" aria-label="Permalink to &quot;4. 静态分析与安全工具&quot;">​</a></h2><ul><li><strong>SQLFluff</strong>：支持多种 SQL 方言的静态分析。</li><li><strong>SonarQube</strong>：可集成 SQL 代码扫描。</li><li><strong>SchemaSpy</strong>：数据库结构分析与文档生成。</li></ul><h2 id="_5-数据库迁移、备份与同步工具" tabindex="-1">5. 数据库迁移、备份与同步工具 <a class="header-anchor" href="#_5-数据库迁移、备份与同步工具" aria-label="Permalink to &quot;5. 数据库迁移、备份与同步工具&quot;">​</a></h2><ul><li><strong>mysqldump / mysqlpump</strong>：MySQL 备份与恢复。</li><li><strong>pg_dump / pg_restore</strong>：PostgreSQL 备份与恢复。</li><li><strong>exp/imp, expdp/impdp</strong>：Oracle 备份与迁移。</li><li><strong>SQL Server Management Studio (SSMS)</strong>：图形化迁移与备份。</li><li><strong>Flyway / Liquibase</strong>：数据库版本管理与迁移，支持多种数据库。</li></ul><h2 id="_6-工具对比与选型建议" tabindex="-1">6. 工具对比与选型建议 <a class="header-anchor" href="#_6-工具对比与选型建议" aria-label="Permalink to &quot;6. 工具对比与选型建议&quot;">​</a></h2><table tabindex="0"><thead><tr><th>工具类型</th><th>推荐场景</th><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>DBeaver</td><td>多库管理、开发</td><td>免费、跨平台</td><td>部分功能需插件</td></tr><tr><td>Navicat</td><td>商业项目、团队协作</td><td>界面好、功能全</td><td>收费</td></tr><tr><td>DataGrip</td><td>智能补全、开发</td><td>JetBrains 生态</td><td>收费</td></tr><tr><td>SQLFluff</td><td>团队规范、CI/CD</td><td>规则丰富</td><td>配置略复杂</td></tr><tr><td>Flyway</td><td>版本管理、自动化</td><td>易集成</td><td>需脚本规范</td></tr></tbody></table><h2 id="_7-典型工具使用示例" tabindex="-1">7. 典型工具使用示例 <a class="header-anchor" href="#_7-典型工具使用示例" aria-label="Permalink to &quot;7. 典型工具使用示例&quot;">​</a></h2><h3 id="_7-1-node-js-连接数据库-以-mysql2-为例" tabindex="-1">7.1 Node.js 连接数据库（以 mysql2 为例） <a class="header-anchor" href="#_7-1-node-js-连接数据库-以-mysql2-为例" aria-label="Permalink to &quot;7.1 Node.js 连接数据库（以 mysql2 为例）&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 使用 mysql2 连接数据库并执行查询</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {import(&#39;mysql2/promise&#39;).Connection}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Promise&lt;Array&lt;{id: number, name: string}&gt;&gt;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAllUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">conn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rows</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SELECT id, name FROM users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_7-2-使用-sqlfluff-进行-sql-代码检查" tabindex="-1">7.2 使用 SQLFluff 进行 SQL 代码检查 <a class="header-anchor" href="#_7-2-使用-sqlfluff-进行-sql-代码检查" aria-label="Permalink to &quot;7.2 使用 SQLFluff 进行 SQL 代码检查&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlfluff</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查 SQL 文件风格</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlfluff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_query.sql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 自动修复</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlfluff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_query.sql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_7-3-使用-mysqldump-备份数据库" tabindex="-1">7.3 使用 mysqldump 备份数据库 <a class="header-anchor" href="#_7-3-使用-mysqldump-备份数据库" aria-label="Permalink to &quot;7.3 使用 mysqldump 备份数据库&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysqldump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mydb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mydb_backup.sql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-4-使用-flyway-进行数据库迁移" tabindex="-1">7.4 使用 Flyway 进行数据库迁移 <a class="header-anchor" href="#_7-4-使用-flyway-进行数据库迁移" aria-label="Permalink to &quot;7.4 使用 Flyway 进行数据库迁移&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 初始化</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flyway</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行迁移</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flyway</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><blockquote><p>工具的选择应结合实际业务需求、团队协作方式和预算，建议优先选用主流、社区活跃的工具。</p></blockquote>`,24)]))}const c=a(t,[["render",e]]);export{g as __pageData,c as default};
