import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.DPDPlp3K.js";const E=JSON.parse('{"title":"关键渲染路径与CSS优化","description":"深入解析浏览器关键渲染路径、CSS对渲染性能的影响及优化策略，助你提升页面首屏速度。","frontmatter":{"layout":"doc","title":"关键渲染路径与CSS优化","description":"深入解析浏览器关键渲染路径、CSS对渲染性能的影响及优化策略，助你提升页面首屏速度。"},"headers":[],"relativePath":"basic/css/critical-rendering-path-css.md","filePath":"basic/css/critical-rendering-path-css.md","lastUpdated":1746781833000}'),e={name:"basic/css/critical-rendering-path-css.md"};function t(h,s,p,r,k,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="关键渲染路径与css优化" tabindex="-1">关键渲染路径与CSS优化 <a class="header-anchor" href="#关键渲染路径与css优化" aria-label="Permalink to &quot;关键渲染路径与CSS优化&quot;">​</a></h1><p>关键渲染路径（Critical Rendering Path, CRP）决定了页面首屏渲染速度。本文将系统讲解CRP的流程、CSS对渲染的影响及优化策略。</p><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ul><li><a href="#关键渲染路径简介">关键渲染路径简介</a></li><li><a href="#css在渲染路径中的作用">CSS在渲染路径中的作用</a></li><li><a href="#阻塞渲染与非阻塞加载">阻塞渲染与非阻塞加载</a></li><li><a href="#优化关键css的策略">优化关键CSS的策略</a></li><li><a href="#实战案例与工具">实战案例与工具</a></li></ul><h2 id="关键渲染路径简介" tabindex="-1">关键渲染路径简介 <a class="header-anchor" href="#关键渲染路径简介" aria-label="Permalink to &quot;关键渲染路径简介&quot;">​</a></h2><p>关键渲染路径包括HTML解析、CSSOM生成、DOM生成、合成渲染树、布局与绘制。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 关键渲染路径主要阶段</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string[]}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getCRPStages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HTML解析&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CSSOM生成&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DOM生成&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;渲染树合成&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;布局&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;绘制&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="css在渲染路径中的作用" tabindex="-1">CSS在渲染路径中的作用 <a class="header-anchor" href="#css在渲染路径中的作用" aria-label="Permalink to &quot;CSS在渲染路径中的作用&quot;">​</a></h2><ul><li>CSS会阻塞DOM渲染，直到所有样式表下载并解析完成</li><li>外链CSS、@import均会延迟首屏渲染</li></ul><h2 id="阻塞渲染与非阻塞加载" tabindex="-1">阻塞渲染与非阻塞加载 <a class="header-anchor" href="#阻塞渲染与非阻塞加载" aria-label="Permalink to &quot;阻塞渲染与非阻塞加载&quot;">​</a></h2><ul><li><code>&lt;link rel=&quot;stylesheet&quot;&gt;</code>为阻塞渲染资源</li><li>可通过<code>media</code>属性、异步加载等方式优化</li></ul><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 非关键CSS异步加载 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stylesheet&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;print.css&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> media</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;print&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">media</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;all&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="优化关键css的策略" tabindex="-1">优化关键CSS的策略 <a class="header-anchor" href="#优化关键css的策略" aria-label="Permalink to &quot;优化关键CSS的策略&quot;">​</a></h2><ul><li>提取首屏关键CSS，内联到HTML中</li><li>非关键CSS异步或延迟加载</li><li>合理拆分样式表，减少体积</li></ul><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 关键CSS内联 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  .header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">min-height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="实战案例与工具" tabindex="-1">实战案例与工具 <a class="header-anchor" href="#实战案例与工具" aria-label="Permalink to &quot;实战案例与工具&quot;">​</a></h2><ul><li>使用Lighthouse、Chrome DevTools分析渲染路径</li><li>利用Critical、PurgeCSS等工具自动提取关键CSS</li></ul><hr><blockquote><p>参考资料：<a href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/Critical_rendering_path" target="_blank" rel="noreferrer">MDN 关键渲染路径</a></p></blockquote>`,19)]))}const o=i(e,[["render",t]]);export{E as __pageData,o as default};
