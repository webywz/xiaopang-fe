import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.DPDPlp3K.js";const o=JSON.parse('{"title":"以太坊","description":"","frontmatter":{},"headers":[],"relativePath":"web3/ethereum.md","filePath":"web3/ethereum.md","lastUpdated":1747111449000}'),t={name:"web3/ethereum.md"};function e(h,s,p,r,k,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="以太坊" tabindex="-1">以太坊 <a class="header-anchor" href="#以太坊" aria-label="Permalink to &quot;以太坊&quot;">​</a></h1><h2 id="_1-以太坊简介与发展历史" tabindex="-1">1. 以太坊简介与发展历史 <a class="header-anchor" href="#_1-以太坊简介与发展历史" aria-label="Permalink to &quot;1. 以太坊简介与发展历史&quot;">​</a></h2><p>以太坊（Ethereum）是一个开源的区块链平台，支持智能合约和去中心化应用（DApp）。</p><ul><li>2013：Vitalik Buterin 发布以太坊白皮书</li><li>2015：以太坊主网正式上线</li><li>2016：The DAO 事件与以太坊/以太坊经典分叉</li><li>2017：ERC20、ICO 热潮</li><li>2020：DeFi Summer</li><li>2021：NFT 爆发、EIP-1559</li><li>2022-2023：The Merge（合并，PoW 转 PoS）、上海升级</li></ul><h2 id="_2-以太坊技术架构" tabindex="-1">2. 以太坊技术架构 <a class="header-anchor" href="#_2-以太坊技术架构" aria-label="Permalink to &quot;2. 以太坊技术架构&quot;">​</a></h2><ul><li>账户模型（EOA/合约账户）</li><li>以太坊虚拟机（EVM）</li><li>区块与交易结构</li><li>共识机制（PoW→PoS）</li><li>Layer1/Layer2 扩展</li></ul><h2 id="_3-账户类型与管理" tabindex="-1">3. 账户类型与管理 <a class="header-anchor" href="#_3-账户类型与管理" aria-label="Permalink to &quot;3. 账户类型与管理&quot;">​</a></h2><ul><li><strong>EOA（Externally Owned Account）外部账户</strong>：由私钥控制，用户钱包即EOA。</li><li><strong>合约账户（Contract Account）</strong>：由智能合约代码控制。</li></ul><h3 id="_3-1-账户创建与管理-ethers-js" tabindex="-1">3.1 账户创建与管理（ethers.js） <a class="header-anchor" href="#_3-1-账户创建与管理-ethers-js" aria-label="Permalink to &quot;3.1 账户创建与管理（ethers.js）&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 创建新账户</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {object}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 钱包对象</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ethers } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ethers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wallet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.Wallet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRandom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wallet.address, wallet.privateKey);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_3-2-账户结构示例" tabindex="-1">3.2 账户结构示例 <a class="header-anchor" href="#_3-2-账户结构示例" aria-label="Permalink to &quot;3.2 账户结构示例&quot;">​</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;address&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x123...abc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;balance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1000000000000000000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;nonce&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4-交易结构与签名" tabindex="-1">4. 交易结构与签名 <a class="header-anchor" href="#_4-交易结构与签名" aria-label="Permalink to &quot;4. 交易结构与签名&quot;">​</a></h2><ul><li>交易类型：普通转账、合约部署、合约调用</li><li>交易字段：from、to、value、gas、gasPrice、nonce、data</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;from&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0xabc...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;to&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0xdef...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10000000000000000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;gas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;gasPrice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;20000000000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;nonce&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-1-交易签名与发送-ethers-js" tabindex="-1">4.1 交易签名与发送（ethers.js） <a class="header-anchor" href="#_4-1-交易签名与发送-ethers-js" aria-label="Permalink to &quot;4.1 交易签名与发送（ethers.js）&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 签名并发送交易</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> to</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 目标地址</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 金额（单位：ETH）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sendTx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goerli&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wallet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Wallet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;私钥&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, provider);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wallet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    to,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: ethers.utils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseEther</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;交易哈希:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tx.hash);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_5-区块结构与链上数据" tabindex="-1">5. 区块结构与链上数据 <a class="header-anchor" href="#_5-区块结构与链上数据" aria-label="Permalink to &quot;5. 区块结构与链上数据&quot;">​</a></h2><ul><li>区块头、区块体、交易列表、状态树</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12345678</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;hash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;parentHash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1680000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;transactions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;miner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;gasLimit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;gasUsed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_6-以太坊虚拟机-evm-与-gas-机制" tabindex="-1">6. 以太坊虚拟机（EVM）与 Gas 机制 <a class="header-anchor" href="#_6-以太坊虚拟机-evm-与-gas-机制" aria-label="Permalink to &quot;6. 以太坊虚拟机（EVM）与 Gas 机制&quot;">​</a></h2><ul><li>EVM 负责执行合约代码，支持多种开发语言（Solidity、Vyper）</li><li>每条指令消耗 Gas，防止滥用</li><li>Gas 费用 = GasUsed × GasPrice</li><li>EIP-1559：基础费（BaseFee）+ 小费（Tip）</li></ul><h2 id="_7-共识机制与以太坊2-0" tabindex="-1">7. 共识机制与以太坊2.0 <a class="header-anchor" href="#_7-共识机制与以太坊2-0" aria-label="Permalink to &quot;7. 共识机制与以太坊2.0&quot;">​</a></h2><ul><li>PoW（工作量证明）：2015-2022</li><li>PoS（权益证明）：The Merge 后主网共识机制</li><li>信标链、质押、分片（未来）</li><li>质押 ETH 获得验证者资格，参与区块提议与验证</li></ul><h2 id="_8-以太坊主网与测试网" tabindex="-1">8. 以太坊主网与测试网 <a class="header-anchor" href="#_8-以太坊主网与测试网" aria-label="Permalink to &quot;8. 以太坊主网与测试网&quot;">​</a></h2><ul><li>主网（Mainnet）：真实资产流通。</li><li>测试网（Goerli、Sepolia、Holesky 等）：开发调试用，无真实价值。</li><li>本地开发链（Hardhat、Anvil、Ganache）</li></ul><h2 id="_9-以太坊升级历史与路线图" tabindex="-1">9. 以太坊升级历史与路线图 <a class="header-anchor" href="#_9-以太坊升级历史与路线图" aria-label="Permalink to &quot;9. 以太坊升级历史与路线图&quot;">​</a></h2><ul><li><strong>Frontier</strong>（2015）：主网启动</li><li><strong>Homestead</strong>（2016）：安全性提升</li><li><strong>Metropolis</strong>（Byzantium、Constantinople）：功能增强</li><li><strong>Istanbul</strong>：性能与安全提升</li><li><strong>London</strong>：EIP-1559，手续费机制改革</li><li><strong>The Merge</strong>：PoW→PoS</li><li><strong>Shanghai/Capella</strong>：解锁质押 ETH 提现</li><li><strong>未来</strong>：分片（Sharding）、Danksharding、Rollup 扩容</li></ul><h2 id="_10-以太坊生态与主流项目" tabindex="-1">10. 以太坊生态与主流项目 <a class="header-anchor" href="#_10-以太坊生态与主流项目" aria-label="Permalink to &quot;10. 以太坊生态与主流项目&quot;">​</a></h2><ul><li>钱包：MetaMask、imToken、Ledger、Trezor</li><li>DApp：Uniswap、OpenSea、Aave、MakerDAO</li><li>基础设施：Infura、Alchemy、The Graph、Chainlink</li><li>Layer2：Arbitrum、Optimism、zkSync、Starknet</li><li>NFT：ERC721、ERC1155、OpenSea</li><li>DAO：ENS DAO、MakerDAO</li></ul><h2 id="_11-layer2-扩容方案" tabindex="-1">11. Layer2 扩容方案 <a class="header-anchor" href="#_11-layer2-扩容方案" aria-label="Permalink to &quot;11. Layer2 扩容方案&quot;">​</a></h2><ul><li>Rollup（Optimistic Rollup、ZK Rollup）</li><li>Validium、Plasma、State Channel</li><li>代表项目：Arbitrum、Optimism、zkSync、Starknet</li><li>Layer2 资产跨链桥、数据可用性</li></ul><h2 id="_12-以太坊开发工具与库" tabindex="-1">12. 以太坊开发工具与库 <a class="header-anchor" href="#_12-以太坊开发工具与库" aria-label="Permalink to &quot;12. 以太坊开发工具与库&quot;">​</a></h2><ul><li><strong>ethers.js</strong>：主流 JavaScript/TypeScript 交互库</li><li><strong>web3.js</strong>：老牌以太坊交互库</li><li><strong>Hardhat</strong>：开发、测试、部署一体化框架</li><li><strong>Remix IDE</strong>：在线 Solidity 开发环境</li><li><strong>OpenZeppelin</strong>：安全合约库</li><li><strong>Foundry</strong>：高性能开发与测试工具</li></ul><h3 id="_12-1-查询账户余额-ethers-js" tabindex="-1">12.1 查询账户余额（ethers.js） <a class="header-anchor" href="#_12-1-查询账户余额-ethers-js" aria-label="Permalink to &quot;12.1 查询账户余额（ethers.js）&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * 查询以太坊账户余额</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> address</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 以太坊地址</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Promise&lt;string&gt;}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 余额（单位：ETH）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mainnet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getBalance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> balance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBalance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(address);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ethers.utils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatEther</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(balance);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 示例</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBalance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x742d35Cc6634C0532925a3b844Bc454e4438f44e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_13-以太坊常见问题与调试技巧" tabindex="-1">13. 以太坊常见问题与调试技巧 <a class="header-anchor" href="#_13-以太坊常见问题与调试技巧" aria-label="Permalink to &quot;13. 以太坊常见问题与调试技巧&quot;">​</a></h2><ul><li>使用 Etherscan 查看交易与区块</li><li>使用 Hardhat/Remix 进行本地调试</li><li>常见错误：nonce 不匹配、Gas 不足、合约回退、链上数据未同步</li><li>如何处理链上 fork、分叉、回滚</li></ul><h2 id="_14-以太坊未来趋势与挑战" tabindex="-1">14. 以太坊未来趋势与挑战 <a class="header-anchor" href="#_14-以太坊未来趋势与挑战" aria-label="Permalink to &quot;14. 以太坊未来趋势与挑战&quot;">​</a></h2><ul><li>Layer2 大规模应用与数据可用性</li><li>分片（Sharding）与高性能扩容</li><li>隐私保护（ZK、MPC、FHE）</li><li>跨链互操作性</li><li>合规与监管</li><li>用户体验提升（账户抽象、Gas 代付、社交恢复）</li><li>AI+Web3 融合</li></ul><h2 id="_15-术语表与缩略语" tabindex="-1">15. 术语表与缩略语 <a class="header-anchor" href="#_15-术语表与缩略语" aria-label="Permalink to &quot;15. 术语表与缩略语&quot;">​</a></h2><table tabindex="0"><thead><tr><th>术语</th><th>解释</th></tr></thead><tbody><tr><td>EVM</td><td>以太坊虚拟机，合约执行环境</td></tr><tr><td>EOA</td><td>外部拥有账户，普通用户钱包</td></tr><tr><td>PoW</td><td>工作量证明，共识机制</td></tr><tr><td>PoS</td><td>权益证明，共识机制</td></tr><tr><td>Rollup</td><td>扩容方案，链下批量处理交易</td></tr><tr><td>Sharding</td><td>分片，提升区块链吞吐量</td></tr><tr><td>Gas</td><td>以太坊交易手续费单位</td></tr><tr><td>DApp</td><td>去中心化应用</td></tr><tr><td>L1/L2</td><td>Layer1/Layer2，主链与扩展链</td></tr><tr><td>Beacon Chain</td><td>信标链，以太坊2.0核心</td></tr><tr><td>Staking</td><td>质押，参与 PoS 共识</td></tr><tr><td>Fork</td><td>分叉，链上历史分歧</td></tr><tr><td>EIP</td><td>以太坊改进提案</td></tr></tbody></table><h2 id="_16-参考资料与延伸阅读" tabindex="-1">16. 参考资料与延伸阅读 <a class="header-anchor" href="#_16-参考资料与延伸阅读" aria-label="Permalink to &quot;16. 参考资料与延伸阅读&quot;">​</a></h2><ul><li><a href="https://ethereum.org/zh/developers/docs/" target="_blank" rel="noreferrer">Ethereum 官方文档</a></li><li><a href="https://docs.ethers.org/" target="_blank" rel="noreferrer">Ethers.js 官方文档</a></li><li><a href="https://hardhat.org/" target="_blank" rel="noreferrer">Hardhat 官方文档</a></li><li><a href="https://etherscan.io/" target="_blank" rel="noreferrer">Etherscan 区块浏览器</a></li><li><a href="https://docs.openzeppelin.com/contracts/" target="_blank" rel="noreferrer">OpenZeppelin 合约库</a></li><li><a href="https://ethereum.org/zh/roadmap/" target="_blank" rel="noreferrer">以太坊路线图</a></li></ul><hr>`,45)]))}const g=i(t,[["render",e]]);export{o as __pageData,g as default};
